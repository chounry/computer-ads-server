{% extends "base.html" %}	
{% load static %}
{% load crispy_forms_tags %}
{% load bootstrap %}
{% block title %}Computer Spec | Add Mainboard Product{% endblock title %}
{% block staticfiles %}
    <link rel="stylesheet" href="{% static 'css/forms/pro_form_base.css' %}">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    {% comment %} <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script> {% endcomment %}
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.12.4/css/bootstrap-select.min.css">
    <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.12.4/js/bootstrap-select.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-confirm/3.3.0/jquery-confirm.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-confirm/3.3.0/jquery-confirm.min.js"></script>
{% block form_static %}
{% endblock form_static %}
{% endblock staticfiles %}

{% block content %}
    <div id="main_wrapper">
        <p id='form_telling'>Select Product Type</p>
        
        <div id="inner_wrapper">
            <div id="form_l_grid">
                <div class='form_pro_menu box' id='add_pro_drop'>
                    <ul>
                        <li>
                            <a href="{% url 'mainboard:mainboard_form' %}">
                                <p><img src="{% static 'imgs/logo/product_form/mainboard.png' %}" alt="mainboard" width='35'></p>
                                <p>MAINBOARD</p>
                            </a>
                        </li>
                        <li>
                            <a href="#">
                                <p><img src="{% static 'imgs/logo/product_form/cpu.png' %}" alt="cpu" width='35'></p>
                                <p>CPU</p>
                            </a>
                        </li>
                        <li>
                            <a href="#">
                                <p><img src="{% static 'imgs/logo/product_form/video-card.png' %}" alt="graphic card" width='35'></p>
                                <p>GRAPHIC CARD</p>
                            </a>
                        </li>
                        <li>
                            <a href="#">
                                <p><img src="{% static 'imgs/logo/product_form/ram.png' %}" alt="RAM" width='35'></p>
                                <p>RAM</p>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
            <form action='' method="post" enctype="multipart/form-data" id="form_cente_right_gr">
                {% csrf_token %}                       
                <div id="r_l_grid">
                    <div id="pro_form_main" class='box'>
                        <p class="form_title">Mainboard{% block form_title %}{% endblock form_title %}</p>  <!-- Product Name -->
                        
                        {% block product_form %}
                        
                        {% endblock product_form %} <!-- Each product form -->
                        
                        <p id='sub_btn_p'><input type="submit" value="SUBMIT" id='f_sub_btn'></p>
                    </div>
                    
                </div>
                <div id="r_r_grid">

                    <!-- ######## Market Form -->
                    <div id="r_r_t_grid" class='box'>
                        <p class='form_title'>Market</p>
                        <div class='market-each-box'>
                            <div class="drop_d_input">
                                <div class="">
                                    {{ market_form  }}
                                </div>
                            </div>
                            <div class="input-group mb-3">
                                <div class="input-group-prepend">
                                    <span class="input-group-text">$</span>
                                </div>
                                <input type="text" class="form-control" placeholder="Price" aria-label="Amount (to the nearest dollar)" name='price'>
                                <div class="input-group-append">
                                </div>
                            </div>
                            <div class="input-group mb-3">
                                <input type="text" class="form-control" placeholder="Link to Product" aria-label="" name='link'>
                                <div class="input-group-append">
                                </div>
                            </div>
                            <hr style="border:1px solid #aaa">
                        </div>
                        <div class='add_form_butt'>
                            <a class='add_butt' href=""><p style="color:green;font-size:14px;"><i class="fas fa-plus"></i>&nbsp;&nbsp;Add Another Market</p></a>
                        </div>
                    </div>
                    
                    <!-- End market Form ######### -->

                    <!-- ###### Image form -->
                    <div id="r_r_b_grid" class='box'>
                        <p class='form_title'>Image</p>
                        <div id="form_img_wrapper">

                            
                            <div class='form_img_box'>
                                <a>
                                    <p style="color:green;"><i class="fas fa-plus"></i></p>
                                    <div>
                                        <input type="file" accept="image/jpeg,image/gif,image/png" name='img'>
                                    </div>
                                </a>
                            </div>
                            <div class='form_img_box'>
                                <a>
                                    <p style="color:green;"><i class="fas fa-plus"></i></p>
                                    <div>
                                        <input type="file" accept="image/jpeg,image/gif,image/png" name='img'>
                                    </div>
                                </a>
                            </div>
                            <div class='form_img_box'>
                                <a>
                                    <p style="color:green;"><i class="fas fa-plus"></i></p>
                                    <div>
                                        <input type="file" accept="image/jpeg,image/gif,image/png" name='img'>
                                    </div>
                                </a>
                            </div>
                            <div class='form_img_box'>
                                <a>
                                    <p style="color:green;"><i class="fas fa-plus"></i></p>
                                    <div>
                                        <input type="file" accept="image/jpeg,image/gif,image/png" name='img'>
                                    </div>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <script>
        // init page
        init_page()

        function init_page(){            
            var input_files = $('input[type="file"]')
            input_files.css('display','none');           
        }

        $('div.form_img_box').click(function(e){
            var input_file = $(this).find("input[type=file]");
            var a_tag = $(this).find('a');
            if (!$(e.target).is('input[type=file]')) {
                input_file.trigger('click');
            }
            input_file.change(function(){
                var reader = new FileReader()
                reader.readAsDataURL(input_file[0].files[0])
                reader.onload = function(){
                    a_tag.css("background-image","url('"+ reader.result +"')");
                }
            })
        })
    </script>
    {{ info_form.media }}
{% endblock content %}


